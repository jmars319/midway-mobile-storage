/* Admin base (variables, layout, cards, header, image sections, image list) */
:root{
	/* admin palette (mapped to site tokens where appropriate) */
	--admin-grad-1: var(--primary-300, #667eea);
	--admin-grad-2: var(--primary-600, #764ba2);
	--card-bg: var(--surface-color, #ffffff);
	--muted: var(--text-muted, #64748b);
	--accent: var(--primary-color, #2563eb);
	--admin-menu-font-size: 0.88rem;
	--admin-menu-line-height: 1.25;

	/* helper tokens for admin (use site variables where applicable) */
	--admin-text: var(--text-primary);
	--admin-border: var(--border-color, #eef2ff);
	--admin-divider-weak: var(--divider-color, #f3f6ff);
	--admin-danger: var(--error-color, #ef4444);
	--admin-success: var(--success-color, #16a34a);
	/* slightly darker surface for admin panels so light text remains readable */
	--admin-surface: color-mix(in srgb, var(--card-bg) 90%, black 10%);
}
html, body { height: 100%; }
/* make sure elements size predictably */
.admin * { box-sizing: border-box; }
/* ensure readable text on the dark admin backdrop */
body.admin { background: linear-gradient(135deg, var(--admin-grad-1) 0%, var(--admin-grad-2) 100%); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; color: var(--text-on-dark); /* map any inverse text usages to dark admin text in the admin UI */
	--text-inverse: var(--admin-text);
}
.admin .page-wrap { min-height:100vh; display:flex; align-items:flex-start; justify-content:center; padding:2rem 0.75rem; }
.admin .admin-card { width:100%; max-width:1100px; max-width: calc(100% - 2rem); background: var(--admin-surface); border-radius:10px; box-shadow:0 12px 20px rgba(2,6,23,0.18); padding:1rem; border:1px solid color-mix(in srgb, var(--admin-surface) 85%, black 15%); box-sizing:border-box; color: var(--admin-text); }

/* Ensure readable text on light admin surfaces (cards, previews, sections, modals, menus) */
.admin .admin-card,
.admin .admin-card h1,
.admin .admin-card h2,
.admin .admin-card h3,
.admin .admin-card h4,
.admin .admin-card h5,
.admin .admin-card h6,
.admin .admin-card p,
.admin .admin-card a,
.admin .admin-card label,
.admin .preview-area,
.admin .section-wrap,
.admin .menu-admin-wrap,
.admin .pm-combo-menu,
.admin table.admin-table,
.admin .content-editor,
.admin #modal,
.admin .modal,
.admin .preview-section,
.admin .preview-item,
.admin .upload-wrap {
	color: var(--admin-text);
}

/* Ensure semantic text elements (non-form) are readable on admin surfaces.
   Exclude form controls and buttons so their internal text remains unchanged. */
.admin h1, .admin h2, .admin h3, .admin h4, .admin h5, .admin h6,
.admin p, .admin label, .admin td, .admin th, .admin li, .admin small,
.admin strong, .admin b, .admin em, .admin code, .admin pre {
	color: var(--admin-text);
}

/* Ensure links inside light surfaces use the brand primary for affordance */
.admin .admin-card a, .admin .preview-area a { color: var(--primary-color); text-decoration:underline }

/* Login container and alerts are explicit light surfaces that must use dark text */
.admin .login-container,
.admin .login-container h1,
.admin .login-container p,
.admin .login-container label,
.admin .login-container .form-label,
.admin .login-container .alert {
	color: var(--admin-text);
}

/* Make alert background stand out on light surfaces */
.admin .login-container .alert { background: color-mix(in srgb, var(--admin-danger) 10%, var(--card-bg) 90%); border:1px solid color-mix(in srgb, var(--admin-danger) 16%, var(--card-bg) 84%); }
.admin .header-row { display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:.75rem; flex-wrap:wrap; }
.admin .header-row > * { min-width:0; }
.admin h1 { font-size:1.125rem; margin:0; color:var(--admin-text); }
.admin .topbar { display:flex; align-items:center; gap:1rem; }
.admin .top-actions { margin-bottom:0; display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
.admin .top-actions form, .admin .top-actions a { margin:0; }
.admin #profile-btn { background:transparent; border:1px solid rgba(15,23,42,0.06); padding:.35rem .5rem; border-radius:8px; cursor:pointer; display:inline-flex; align-items:center; gap:.5rem }
.admin #profile-btn img { height:26px; width:26px; border-radius:50%; object-fit:cover }
.admin #profile-menu { display:none; position:absolute; right:0; top:100%; margin-top:.35rem; background:var(--card-bg); border-radius:8px; box-shadow:0 8px 20px rgba(2,6,23,0.10); padding:.35rem; min-width:160px; z-index:50; border:1px solid rgba(15,23,42,0.06) }
.admin #profile-menu a, .admin #profile-menu form { display:flex; align-items:center; gap:.35rem; padding:.35rem .5rem; color:var(--admin-text); text-decoration:none; border-radius:6px; font-weight:600 }
.admin #profile-menu a:hover, .admin #profile-menu form:hover { background: rgba(15,23,42,0.03) }
.admin #profile-menu .btn { width:100%; text-align:left; padding-left:.6rem; }
.admin #profile-menu .btn.btn-ghost { background: transparent; border: none; color:var(--muted); }
.admin .btn-logout { background:var(--admin-danger); color:var(--card-bg); border:none; }
.admin .btn-logout:hover { background: var(--admin-danger); filter: brightness(.95); }

/* Destructive action styles
   - .btn-logout: full, primary red used for logout (already used)
   - .btn-danger-muted: used for other destructive actions (delete/empty/restore)
	 it's visually muted so it's noticeable but not as prominent as logout.
*/
.admin .btn-danger-muted {
	/* muted red fill so destructive actions are noticeable but not as prominent as logout */
	background: color-mix(in srgb, var(--admin-danger) 12%, var(--card-bg) 88%);
	border: 1px solid color-mix(in srgb, var(--admin-danger) 16%, var(--card-bg) 84%);
	color: color-mix(in srgb, var(--admin-danger) 40%, black 60%);
}
.admin .btn-danger-muted:hover {
	background: color-mix(in srgb, var(--admin-danger) 18%, var(--card-bg) 82%);
	filter: none;
}
.admin .btn-danger-muted:focus {
	outline: 3px solid color-mix(in srgb, var(--admin-danger) 8%, var(--card-bg) 92%);
	outline-offset: 2px;
}
.admin .profile-wrap { position:relative; }
.admin .header-left { display:flex; align-items:center; gap:1rem; }
.admin .header-actions { display:flex; align-items:center; gap:.75rem; }
.admin #profile-menu .pm-item { margin-bottom:.25rem; }
.admin #profile-menu .pm-item:last-child { margin-bottom:0; }
.admin #profile-menu .pm-sep { border-top:1px solid rgba(0,0,0,0.04); padding-top:.5rem; }
/* image-section: collapsible upload blocks used in the Image Uploads admin area */
.admin .image-section { border: 1px solid var(--admin-border); border-radius:8px; margin-bottom:0.75rem; background: var(--card-bg); overflow:visible }
.admin .image-section summary { list-style:none; cursor:pointer; padding:.6rem .8rem; display:flex; align-items:center; justify-content:space-between; gap:.5rem; font-weight:700; color:var(--admin-text); }
.admin .image-section summary::-webkit-details-marker { display:none }
.admin .image-section summary:after { content:''; width:18px; height:18px; display:inline-block; background-repeat:no-repeat; background-position:center; background-size:12px; background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M6 9l6 6 6-6' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg>"); }
.admin .image-section[open] summary:after { background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M18 15l-6-6-6 6' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg>"); }
.admin .image-section-body { padding:.75rem .8rem; border-top:1px solid var(--admin-divider-weak); }

/* progress bar used during uploads */
.image-upload-progress .bar { background: color-mix(in srgb, var(--card-bg) 88%, black 2%); border-radius:6px; overflow:hidden; height:8px; width:240px; margin-top:.5rem }
.image-upload-progress .bar .fill { background: linear-gradient(90deg, var(--accent) 0%, color-mix(in srgb, var(--accent) 60%, black 10%) 100%); height:100%; width:0%; transition: width .16s linear }
.admin .image-section img { max-width:280px; max-height:140px; object-fit:contain; border:1px solid var(--admin-border); border-radius:6px }

/* remove tooltip helper class; tooltips have been removed from the UI in favor of inline help text */
.admin .tooltip { display:none !important }

/* animate details open/close: use max-height trick for smoother transitions */
.admin .image-section { transition: box-shadow .18s ease, transform .18s ease; }
.admin .image-section summary { transition: background .12s ease; }
.admin .image-section[open] { box-shadow: 0 6px 18px rgba(2,6,23,0.06); transform: translateY(-2px); }
.admin .image-section .image-section-body { max-height: 0; overflow: hidden; transition: max-height .28s cubic-bezier(.2,.9,.22,1), opacity .18s ease; opacity: 0; }
.admin .image-section[open] .image-section-body { max-height: 1200px; opacity: 1; }

/* utility: visually hidden (screen-reader only) */
.sr-only { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px); white-space: nowrap; }

/* moved inline styles -> classes */
.admin .search-form { margin-bottom:1rem; display:flex; gap:.5rem; align-items:center; }
.admin .search-input { flex:1; padding:.5rem; }
.admin .perpage-label { font-size:.9rem; }
.admin .spaced-hr { margin:2rem 0; border:none; border-top:1px solid rgba(0,0,0,0.06); }
.admin .content-editor-wrap { margin-top:1rem; }
.admin .section-select { margin-bottom:.75rem; display:block; }
.admin .schema-wrap { margin-top:.25rem; }
.admin .form-actions { margin-top:.5rem; }
.admin .upload-wrap { margin-top:.5rem; }
.admin #image-list { margin-top:.5rem; }
.admin .pagination-wrap { margin-top:1rem; display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
.admin .current-page { padding:.25rem .5rem; background: color-mix(in srgb, var(--card-bg) 85%, black 15%); border-radius:4px }

/* responsive dropdown: on small screens make it full width under header */
@media (max-width:700px) {
	.admin .header-row { flex-direction:column; align-items:stretch; gap:.5rem }
	.admin .header-left, .admin .header-actions { width:100%; display:flex; justify-content:space-between; }
	.admin #profile-menu { position:static; right:auto; left:0; width:100%; min-width:unset; margin-top:.25rem; }
	.admin #profile-menu a, .admin #profile-menu form { padding: .6rem .75rem }
}
.admin .card { background:transparent; box-shadow:none; padding:0; border:none; }
table.admin-table { width:100%; border-collapse:collapse; margin-top:.5rem; }
table.admin-table th, table.admin-table td { padding:.5rem .5rem; border-bottom:1px solid var(--admin-border); text-align:left; font-size:0.95rem }
table.admin-table th { background:transparent; color:var(--muted); font-weight:600; font-size:.85rem; }
table.admin-table tbody tr:hover { background: rgba(15,23,42,0.02); }

/* Content editor */
.content-editor { margin-top:1rem; display:flex; gap:1rem; align-items:flex-start; flex-wrap:wrap; }
.content-editor .left, .content-editor .right { flex:1 1 420px; min-width:280px; box-sizing:border-box; }
/* Prevent long words from forcing horizontal scroll */
table.admin-table, table.admin-table td, table.admin-table th { table-layout: fixed; word-break: break-word; overflow-wrap: anywhere; }

/* Prevent the whole page from creating a horizontal scroll */
body.admin { overflow-x: hidden; }
.content-editor label { display:block; font-weight:600; margin-bottom:.25rem; color:var(--admin-text); font-size:0.95rem }
.content-editor input[type="text"], .content-editor textarea, .content-editor select { width:100%; padding:.5rem; border:1px solid var(--admin-border); border-radius:8px; background:var(--card-bg); box-shadow:none; font-size:0.95rem }
.content-editor textarea { min-height:110px; font-family:inherit; }
.content-editor .form-row { margin-bottom:.6rem; }

/* Buttons */
.btn { border-radius:8px; padding:.45rem .65rem; font-weight:600; border:none; cursor:pointer; font-size:0.95rem }
.btn-primary { background:var(--accent); color:var(--card-bg); }
.btn-primary:hover { background: color-mix(in srgb, var(--accent) 85%, black 15%); }
.btn-ghost { background:transparent; border:1px solid rgba(15,23,42,0.06); color:inherit; }

/* Upload area */
#upload-form { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
#upload-form label { display:flex; gap:.5rem; align-items:center; }

/* Image list */
#image-list { margin-top:.5rem; display:flex; flex-direction:column; gap:.35rem }
#image-list > div { display:flex; gap:.5rem; align-items:center; padding:.4rem; border-radius:8px; background: var(--card-bg); border:1px solid var(--admin-divider-weak) }
#image-list img { border-radius:6px; border:1px solid var(--admin-border); height:48px; width:64px; object-fit:cover }

/* Header / logo helpers */
.header-brand { display:flex; align-items:center; gap:12px }
.logo-inline { display:inline-block }
.logo-img { height:40px; width:auto; vertical-align:middle }

/* Admin login/logo variant used on the login page */
.admin .admin-logo { display:block; margin:0 auto .5rem; height:72px; width:auto; max-width:80% }
@media (max-width:420px) {
	.admin .admin-logo { height:56px; }
}
